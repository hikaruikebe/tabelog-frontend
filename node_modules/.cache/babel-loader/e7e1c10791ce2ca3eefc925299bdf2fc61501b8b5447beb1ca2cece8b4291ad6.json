{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nexport default function CallQuery(query, page) {\n  _s();\n  const baseUrl = \"http://localhost:5000/\";\n  const [filteredItems, setFilteredItems] = useState([items]);\n  useEffect(() => {\n    let cancel;\n    axios.get(baseUrl + \"restaurants/english\", {\n      params: {\n        store_name: query.storeName,\n        sort_value: query.sortValue,\n        prefecture_value: query.prefectureValue,\n        rating_min: query.ratingRange[0] / 10,\n        rating_max: query.ratingRange[1] / 10,\n        review_min: query.reviewRange[0],\n        review_max: query.reviewRange[1],\n        latitude: query.latitude,\n        longitude: query.longitude,\n        lunch_min: query.lunchRange[0],\n        lunch_max: query.lunchRange[1],\n        dinner_min: query.dinnerRange[0],\n        dinner_max: query.dinnerRange[1],\n        page: 1,\n        limit: 12\n      },\n      cancelToken: new axios.CancelToken(c => cancel = c)\n    }).then(responses => {\n      setFilteredItems(responses.data.map(response => {\n        const container = {};\n        container[\"store_name\"] = response.store_name;\n        container[\"store_name_english\"] = response.store_name_english;\n        container[\"score\"] = response.score;\n        container[\"review_cnt\"] = response.review_cnt;\n        container[\"tabelog_lunch_budget_min\"] = response.tabelog_lunch_budget_min;\n        container[\"tabelog_lunch_budget_max\"] = response.tabelog_lunch_budget_max;\n        container[\"tabelog_dinner_budget_min\"] = response.tabelog_dinner_budget_min;\n        container[\"tabelog_dinner_budget_max\"] = response.tabelog_dinner_budget_max;\n        // container[\"customer_lunch_budget_min\"] =\n        //   response.customer_lunch_budget_min;\n        // container[\"customer_lunch_budget_max\"] =\n        //   response.customer_lunch_budget_max;\n        // container[\"customer_dinner_budget_min\"] =\n        //   response.customer_dinner_budget_min;\n        // container[\"customer_dinner_budget_max\"] =\n        //   response.customer_dinner_budget_max;\n        container[\"distance\"] = response.distance;\n        container[\"url\"] = response.url;\n        container[\"url_english\"] = response.url_english;\n        container[\"address\"] = response.address;\n        container[\"prefecture\"] = response.prefecture;\n        container[\"address_english\"] = response.address_english;\n        container[\"prefecture_english\"] = response.prefecture_english;\n        container[\"website\"] = response.website;\n        return container;\n      }));\n    }).catch(e => {\n      if (axios.isCancel(e)) return;\n    });\n  });\n}\n_s(CallQuery, \"6bF8cuGLSUhfdc5pOUK21H0Py54=\");\n_c = CallQuery;\nvar _c;\n$RefreshReg$(_c, \"CallQuery\");","map":{"version":3,"names":["useEffect","useState","axios","CallQuery","query","page","_s","baseUrl","filteredItems","setFilteredItems","items","cancel","get","params","store_name","storeName","sort_value","sortValue","prefecture_value","prefectureValue","rating_min","ratingRange","rating_max","review_min","reviewRange","review_max","latitude","longitude","lunch_min","lunchRange","lunch_max","dinner_min","dinnerRange","dinner_max","limit","cancelToken","CancelToken","c","then","responses","data","map","response","container","store_name_english","score","review_cnt","tabelog_lunch_budget_min","tabelog_lunch_budget_max","tabelog_dinner_budget_min","tabelog_dinner_budget_max","distance","url","url_english","address","prefecture","address_english","prefecture_english","website","catch","e","isCancel","_c","$RefreshReg$"],"sources":["/Users/hikaruikebe/Library/CloudStorage/GoogleDrive-hri2104@columbia.edu/My Drive/CS Stuff/Projects/tabelog-frontend/src/CallQuery.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nexport default function CallQuery(query, page) {\n  const baseUrl = \"http://localhost:5000/\";\n\n  const [filteredItems, setFilteredItems] = useState([items]);\n\n  useEffect(() => {\n    let cancel;\n    axios\n      .get(baseUrl + \"restaurants/english\", {\n        params: {\n          store_name: query.storeName,\n          sort_value: query.sortValue,\n          prefecture_value: query.prefectureValue,\n          rating_min: query.ratingRange[0] / 10,\n          rating_max: query.ratingRange[1] / 10,\n          review_min: query.reviewRange[0],\n          review_max: query.reviewRange[1],\n          latitude: query.latitude,\n          longitude: query.longitude,\n          lunch_min: query.lunchRange[0],\n          lunch_max: query.lunchRange[1],\n          dinner_min: query.dinnerRange[0],\n          dinner_max: query.dinnerRange[1],\n          page: 1,\n          limit: 12,\n        },\n        cancelToken: new axios.CancelToken((c) => (cancel = c)),\n      })\n      .then((responses) => {\n        setFilteredItems(\n          responses.data.map((response) => {\n            const container = {};\n\n            container[\"store_name\"] = response.store_name;\n            container[\"store_name_english\"] = response.store_name_english;\n            container[\"score\"] = response.score;\n            container[\"review_cnt\"] = response.review_cnt;\n            container[\"tabelog_lunch_budget_min\"] =\n              response.tabelog_lunch_budget_min;\n            container[\"tabelog_lunch_budget_max\"] =\n              response.tabelog_lunch_budget_max;\n            container[\"tabelog_dinner_budget_min\"] =\n              response.tabelog_dinner_budget_min;\n            container[\"tabelog_dinner_budget_max\"] =\n              response.tabelog_dinner_budget_max;\n            // container[\"customer_lunch_budget_min\"] =\n            //   response.customer_lunch_budget_min;\n            // container[\"customer_lunch_budget_max\"] =\n            //   response.customer_lunch_budget_max;\n            // container[\"customer_dinner_budget_min\"] =\n            //   response.customer_dinner_budget_min;\n            // container[\"customer_dinner_budget_max\"] =\n            //   response.customer_dinner_budget_max;\n            container[\"distance\"] = response.distance;\n            container[\"url\"] = response.url;\n            container[\"url_english\"] = response.url_english;\n            container[\"address\"] = response.address;\n            container[\"prefecture\"] = response.prefecture;\n            container[\"address_english\"] = response.address_english;\n            container[\"prefecture_english\"] = response.prefecture_english;\n            container[\"website\"] = response.website;\n\n            return container;\n          })\n        );\n      })\n      .catch((e) => {\n        if (axios.isCancel(e)) return;\n      });\n  });\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}